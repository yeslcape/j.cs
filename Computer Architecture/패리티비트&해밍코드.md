# 패리티 비트 & 해밍 코드

## 패리트 비트
### 개념
패리트 비트(parity bit) : 정보의 전달 과정에서 오류가 생겼는지를 검사하기 위해 추가되는 비트

### 특징
* 1 bit의 오류를 찾을 수 있음
  * 오류가 발생했다는 사실만 확인 가능
  * 어떤 비트에서 오류가 발생했는지 확인 불가능
  * 알맞은 데이터로 수정 불가
  * 데이터 재전송 필요
  * 하나가 아닌 2개의 비트에서 오류 발생 시, 오류 발생 검출 불가
    * 2개 이상의 오류 발생 시 홀짝이 바뀌지 않기 때문
* 패리티 비트를 포함한 데이터에서 1의 개수가 짝수인지 홀수인지에 따라 짝수 패리티 / 홀수 패리티 라고 함

## 해밍 코드
### 개념
해밍 코드(hamming code) : 데이터 전송 시 1bit의 에러를 정정할 수 있는 오류정정부호(ECC-Error Correction Code)의 일종

### 특징
* 여러 개의 패리티 비트를 이용하여 오류를 검출하고 어디에서 오류가 발생했는지 확인 가능한 방식
* 패리티 비트를 데이터의 비트 수에 따라 필요한만큼 사용하여 데이터에 추가하고, 패리티 비트를 조합하여 에러 검출 및 교정 수행
  * 데이터 비트 수에 따라 필요한 패리티 비트의 개수 : 2^p >= d + p + 1 (p : 패리티 비트 수, d : 데이터 비트 수)
* 해밍 코드는 최소 해밍 거리가 3으로 최대 2개의 오류 검출과 최대 1개의 오류 수정 가능
  * 오류가 발생한 경우, p값을 모아 몇번째 비트에서 오류가 발생했는지 알 수 있음
  * 오류난 비트 값을 고치면 알맞은 데이터를 얻을 수 있음
  * 2개의 오류가 발생한 것과 1개의 오류가 발생한 것을 구분할 수 없음
  * 2개의 오류가 발생했을 때, 데이터가 잘못 복구될 수 있음

cf) 해밍 거리 : 같은 길이를 가진 두 개의 배열에서 같은 위치에 있지만 서로 다른 문자 또는 숫자의 개수
    "000"와 "011"의 해밍 거리 : 2
    표기 방식 : "d(000, 011) = 2"

### 해밍 코드 생성 규칙
1. 추가할 패리티 비트의 개수 구하기
   * 2^P >= D + P + 1 (P : 패리티 비트 수, D : 데이터 비트 수)
2. 패리티 비트를 넣을 위치 찾기
   * 2^n번째 자리에 위치 (0 <= n < P - 1)
3. 패리티 방식 확인
   * 짝수 패리티인지, 홀수 패리티인지
4. 각 패리티 비트의 범위 구하기
   * Pn의 범위 = R을 이진 수로 표현한 수에서 n번째 비트의 집합 중 값이 1인 R의 집합 (1 <= R <= P + D)
5. 각 패리티 비트의 값 구하기
   * 패리티 비트의 값은 각 패리티 범위 원소들의 XOR 연산으로 결정
   * 짝수 패리티일 경우, XOR 연산을 하고 그대로 사용하며, 홀수 패리티일 경우, 결괏값이 0이면, 1로, 1이면, 0으로 바꿈
6. 해밍 코드 값 도출

<br><br><br>
Reference
- https://velog.io/@letskuku/%EC%BB%B4%ED%93%A8%ED%84%B0%EA%B5%AC%EC%A1%B0-%ED%8C%A8%EB%A6%AC%ED%8B%B0-%EB%B9%84%ED%8A%B8%EC%99%80-%ED%95%B4%EB%B0%8D-%EC%BD%94%EB%93%9C
- https://m.blog.naver.com/taeheon714/222193247285